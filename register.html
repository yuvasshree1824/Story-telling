<!DOCTYPE html>
<html lang="en">
<head>
  <title>Register Form</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    .error {
      color: red;
      font-size: 0.9em;
    }
    .error-border {
      border: 2px solid red;
    }
  </style>
</head>


<body style="background-size: 100%; background-image: url(background2.jpeg);">

        <nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
                        <h1 class="navbar-brand " style="font-style: italic;"><img src="logo1.jpg" height="30px" width="30px"> MagicMoral</h1> 
                     
            </div>
        </nav>


  <div class="container" style="margin-top: 50px; margin-left: 200px;">
    <div class="card" style="height: auto; width: 1000px;">
      <div class="card-body">
        <center><h1>Register Form</h1></center>
        <div class="card-title">
          <form class="p-3" onsubmit="return validateForm()">
            <div class="form-group p-2">
              <label for="email">Username or Email:</label>
              <input type="text" id="email" class="form-control">
              <div class="error" id="emailError"></div>
            </div>
            <div class="form-group p-2">
              <label for="password">Password:</label>
              <input type="password" id="password" class="form-control">
              <div class="error" id="passwordError"></div>
            </div>
            <div class="form-group p-2">
              <label for="re-password">Re-Password:</label>
              <input type="password" id="re-password" class="form-control">
              <div class="error" id="rePasswordError"></div>
            </div>
            <div class="form-group mt-4">
              <button type="button" class="btn btn-danger" onclick="validateForm()">Register</button>
            </div>
            <div class="text-end p-3">
              <a href="login.html">Already Registered User</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script>
function validateForm() {
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();
  const rePassword = document.getElementById("re-password").value.trim();

  const emailError = document.getElementById("emailError");
  const passwordError = document.getElementById("passwordError");
  const rePasswordError = document.getElementById("rePasswordError");

  // Clear previous errors
  emailError.textContent = "";
  passwordError.textContent = "";
  rePasswordError.textContent = "";

  document.getElementById("email").classList.remove("error-border");
  document.getElementById("password").classList.remove("error-border");
  document.getElementById("re-password").classList.remove("error-border");

  let isValid = true;
  const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;

  // Validate email
  if (email === "") {
    emailError.textContent = "Email is required";
    document.getElementById("email").classList.add("error-border");
    isValid = false;
  } else if (!email.match(emailPattern)) {
    emailError.textContent = "Enter a valid email";
    document.getElementById("email").classList.add("error-border");
    isValid = false;
  }

  // Validate password
  if (password === "") {
    passwordError.textContent = "Password is required";
    document.getElementById("password").classList.add("error-border");
    isValid = false;
  } else if (password.length < 6) {
    passwordError.textContent = "Password must be at least 6 characters";
    document.getElementById("password").classList.add("error-border");
    isValid = false;
  }

  // Validate password match
  if (password !== rePassword) {
    rePasswordError.textContent = "Passwords do not match";
    document.getElementById("re-password").classList.add("error-border");
    isValid = false;
  }

  // Store in localStorage if all is valid
  if (isValid) {
    const userData = {
      email: email,
      password: password
    };

    localStorage.setItem("userData", JSON.stringify(userData));
    alert("Registration successful!");

    // Optional: redirect to login page
    window.location.href = "login.html";
  }

  return isValid;
}

  </script>
</body>
</html>